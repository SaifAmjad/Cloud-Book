{"ast":null,"code":"import _regeneratorRuntime from\"D:/My Code/MERN Projects/Cloud-Book MERN/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/My Code/MERN Projects/Cloud-Book MERN/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/My Code/MERN Projects/Cloud-Book MERN/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import NoteContext from\"./NoteContext\";import{jsx as _jsx}from\"react/jsx-runtime\";var NoteState=function NoteState(props){var host='https://cloud-book-kappa.vercel.app';var noteData=[];var _useState=useState(noteData),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNote=_useState2[1];var localToken=localStorage.getItem('token');var getNote=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,jsondata;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(host,\"/api/v1/notes/allnotes\"),{method:\"GET\",headers:{mode:'no-cors',\"Content-Type\":\"application/json\",\"auth-token\":localToken}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:jsondata=_context.sent;console.log(jsondata);setNote(jsondata.notes);case 8:case\"end\":return _context.stop();}},_callee);}));return function getNote(){return _ref.apply(this,arguments);};}();var addNote=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(title,description,tag){var response,note;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(host,\"/api/v1/notes/addnote\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"auth-token\":localToken},body:JSON.stringify({title:title,description:description,tag:tag})});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:note=_context2.sent;setNote(notes.concat(note));case 7:case\"end\":return _context2.stop();}},_callee2);}));return function addNote(_x,_x2,_x3){return _ref2.apply(this,arguments);};}();var deleteNote=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var response,jsondata,newNote;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(host,\"/api/v1/notes/deletenote/\").concat(id),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",\"auth-token\":localToken}});case 2:response=_context3.sent;jsondata=response.json();console.log(\"deleted id\"+id);newNote=notes.filter(function(note){return note._id!==id;});setNote(newNote);case 7:case\"end\":return _context3.stop();}},_callee3);}));return function deleteNote(_x4){return _ref3.apply(this,arguments);};}();var editNote=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id,title,description,tag){var response,jsondata,newNote,index,element;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"\".concat(host,\"/api/v1/notes/updatenote/\").concat(id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",\"auth-token\":localToken},body:JSON.stringify({title:title,description:description,tag:tag})});case 2:response=_context4.sent;jsondata=response.json();newNote=JSON.parse(JSON.stringify(notes));index=0;case 6:if(!(index<notes.length)){_context4.next=16;break;}element=newNote[index];if(!(element._id===id)){_context4.next=13;break;}newNote[index].title=title;newNote[index].description=description;newNote[index].tag=tag;return _context4.abrupt(\"break\",16);case 13:index++;_context4.next=6;break;case 16:setNote(newNote);case 17:case\"end\":return _context4.stop();}},_callee4);}));return function editNote(_x5,_x6,_x7,_x8){return _ref4.apply(this,arguments);};}();return/*#__PURE__*/_jsx(NoteContext.Provider,{value:{notes:notes,addNote:addNote,deleteNote:deleteNote,editNote:editNote,getNote:getNote},children:props.children});};export default NoteState;","map":{"version":3,"names":["useState","NoteContext","jsx","_jsx","NoteState","props","host","noteData","_useState","_useState2","_slicedToArray","notes","setNote","localToken","localStorage","getItem","getNote","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","jsondata","wrap","_callee$","_context","prev","next","fetch","concat","method","headers","mode","sent","json","console","log","stop","apply","arguments","addNote","_ref2","_callee2","title","description","tag","note","_callee2$","_context2","body","JSON","stringify","_x","_x2","_x3","deleteNote","_ref3","_callee3","id","newNote","_callee3$","_context3","filter","_id","_x4","editNote","_ref4","_callee4","index","element","_callee4$","_context4","parse","length","abrupt","_x5","_x6","_x7","_x8","Provider","value","children"],"sources":["D:/My Code/MERN Projects/Cloud-Book MERN/src/Context/notes/NoteState.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport NoteContext from \"./NoteContext\";\r\n\r\nconst NoteState = (props) => {\r\n  const host='https://cloud-book-kappa.vercel.app';\r\n  const noteData = [];\r\n  const [notes, setNote] = useState(noteData);\r\n  const localToken=localStorage.getItem('token')\r\n\r\n  const getNote =async () => {\r\n    const response = await fetch(`${host}/api/v1/notes/allnotes`, {\r\n      method: \"GET\", \r\n      headers: {\r\n        mode: 'no-cors',\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\" :localToken\r\n      },\r\n      \r\n    });\r\n    const jsondata=await response.json();\r\n    console.log(jsondata);\r\n    setNote(jsondata.notes);\r\n  };\r\n\r\n  const addNote =async (title, description, tag) => {\r\n    const response = await fetch(`${host}/api/v1/notes/addnote`, {\r\n      method: \"POST\", \r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\" :localToken\r\n      },\r\n      \r\n      body: JSON.stringify({title,description,tag}), \r\n    });\r\n\r\n    let note = await response.json();   \r\n    setNote(notes.concat(note));\r\n   \r\n  };\r\n\r\n\r\n  const deleteNote =async (id) => {\r\n    const response = await fetch(`${host}/api/v1/notes/deletenote/${id}`, {\r\n      method: \"DELETE\", \r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\" :localToken\r\n      },\r\n      \r\n    });\r\n     const jsondata=response.json();\r\n\r\n    console.log(\"deleted id\" + id);\r\n    const newNote = notes.filter((note) => {\r\n      return note._id !== id;\r\n    });\r\n    setNote(newNote);\r\n  };\r\n\r\n\r\n  const editNote =async (id, title, description, tag) => {\r\n    const response = await fetch(`${host}/api/v1/notes/updatenote/${id}`, {\r\n      method: \"PUT\", \r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\" :localToken\r\n      },\r\n      \r\n      body: JSON.stringify({title,description,tag}), \r\n    });\r\n     const jsondata=response.json();\r\n\r\n    let newNote=JSON.parse(JSON.stringify(notes));\r\n\r\n    for (let index = 0; index < notes.length; index++) {\r\n      const element = newNote[index];\r\n      if (element._id === id) {\r\n        newNote[index].title = title;\r\n        newNote[index].description = description;\r\n        newNote[index].tag = tag;\r\n        break;\r\n      }\r\n    }\r\n    setNote(newNote);\r\n  };\r\n  return (\r\n    <NoteContext.Provider value={{ notes, addNote, deleteNote, editNote,getNote }}>\r\n      {props.children}\r\n    </NoteContext.Provider>\r\n  );\r\n};\r\nexport default NoteState;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}