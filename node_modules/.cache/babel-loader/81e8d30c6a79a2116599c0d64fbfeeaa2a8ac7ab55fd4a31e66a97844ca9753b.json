{"ast":null,"code":"import _defineProperty from\"D:/My Code/MERN Projects/Cloud-Book MERN/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/My Code/MERN Projects/Cloud-Book MERN/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"D:/My Code/MERN Projects/Cloud-Book MERN/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/My Code/MERN Projects/Cloud-Book MERN/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/My Code/MERN Projects/Cloud-Book MERN/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var history=useNavigate();var host=\"https://cloud-book-kappa.vercel.app\";var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),auth=_useState2[0],setAuth=_useState2[1];var handleClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response,jsondata;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"\".concat(host,\"/api/v1/auth/loginuser\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:auth.email,password:auth.password})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:jsondata=_context.sent;console.log(jsondata);if(jsondata.success){localStorage.setItem(\"token\",jsondata.token);history(\"/Cloud-Book\");}else{alert(\"Invalid credentials\");}case 9:case\"end\":return _context.stop();}},_callee);}));return function handleClick(_x){return _ref.apply(this,arguments);};}();var onChange=function onChange(e){setAuth(_objectSpread(_objectSpread({},auth),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-primary \".concat(localStorage.getItem(\"token\")===null?\"visible\":\"invisible\"),role:\"alert\",children:\"Please login or signup to start keeping your notes\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleClick,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",id:\"email\",name:\"email\",value:auth.email,onChange:onChange,\"aria-describedby\":\"emailHelp\"}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",value:auth.password,onChange:onChange,id:\"password\",name:\"password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","history","host","_useState","email","password","_useState2","_slicedToArray","auth","setAuth","handleClick","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","jsondata","wrap","_callee$","_context","prev","next","preventDefault","fetch","concat","method","headers","body","JSON","stringify","sent","json","console","log","success","localStorage","setItem","token","alert","stop","_x","apply","arguments","onChange","_objectSpread","_defineProperty","target","name","value","children","className","getItem","role","onSubmit","htmlFor","type","id"],"sources":["D:/My Code/MERN Projects/Cloud-Book MERN/src/Components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Login = () => {\r\n  let history = useNavigate();\r\n  const host = \"https://cloud-book-kappa.vercel.app\";\r\n  const [auth, setAuth] = useState({ email: \"\", password: \"\" });\r\n\r\n  const handleClick = async (e) => {\r\n    e.preventDefault();\r\n    const response = await fetch(`${host}/api/v1/auth/loginuser`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n\r\n      body: JSON.stringify({ email: auth.email, password: auth.password }),\r\n    });\r\n\r\n    const jsondata = await response.json();\r\n    console.log(jsondata);\r\n\r\n    if (jsondata.success) {\r\n      localStorage.setItem(\"token\", jsondata.token);\r\n      history(\"/Cloud-Book\");\r\n    } else {\r\n      alert(\"Invalid credentials\");\r\n    }\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    setAuth({ ...auth, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        className={`alert alert-primary ${\r\n          localStorage.getItem(\"token\") === null ? \"visible\" : \"invisible\"\r\n        }`}\r\n        role=\"alert\"\r\n      >\r\n        Please login or signup to start keeping your notes\r\n      </div>\r\n\r\n      <form onSubmit={handleClick}>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n            Email address\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            value={auth.email}\r\n            onChange={onChange}\r\n            aria-describedby=\"emailHelp\"\r\n          />\r\n          <div id=\"emailHelp\" className=\"form-text\">\r\n            We'll never share your email with anyone else.\r\n          </div>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n            Password\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            value={auth.password}\r\n            onChange={onChange}\r\n            id=\"password\"\r\n            name=\"password\"\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}